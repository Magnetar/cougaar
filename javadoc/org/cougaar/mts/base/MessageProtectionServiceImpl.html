<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_33) on Fri Jul 27 16:42:25 EDT 2012 -->
<TITLE>
MessageProtectionServiceImpl (Full Cougaar API)
</TITLE>

<META NAME="date" CONTENT="2012-07-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MessageProtectionServiceImpl (Full Cougaar API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MessageProtectionServiceImpl.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
Cougaar 12.7</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/cougaar/mts/base/MessageProtectionAspect.html" title="class in org.cougaar.mts.base"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/cougaar/mts/base/MessageReader.html" title="interface in org.cougaar.mts.base"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/cougaar/mts/base/MessageProtectionServiceImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MessageProtectionServiceImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.cougaar.mts.base</FONT>
<BR>
Class MessageProtectionServiceImpl</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.cougaar.mts.base.MessageProtectionServiceImpl</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../org/cougaar/core/component/Service.html" title="interface in org.cougaar.core.component">Service</A>, <A HREF="../../../../org/cougaar/core/component/ServiceProvider.html" title="interface in org.cougaar.core.component">ServiceProvider</A>, <A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html" title="interface in org.cougaar.core.service">MessageProtectionService</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>MessageProtectionServiceImpl</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html" title="interface in org.cougaar.core.service">MessageProtectionService</A>, <A HREF="../../../../org/cougaar/core/component/ServiceProvider.html" title="interface in org.cougaar.core.component">ServiceProvider</A></DL>
</PRE>

<P>
This <A HREF="../../../../org/cougaar/core/component/ServiceProvider.html" title="interface in org.cougaar.core.component"><CODE>ServiceProvider</CODE></A> both provides and implements the
 <A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html" title="interface in org.cougaar.core.service"><CODE>MessageProtectionService</CODE></A>. It's only created as a default, if no other
 MessageProtection Service is available. The service implementation does
 nothing useful.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/cougaar/mts/base/MessageProtectionServiceImpl.html#MessageProtectionServiceImpl()">MessageProtectionServiceImpl</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/cougaar/core/mts/ProtectedInputStream.html" title="class in org.cougaar.core.mts">ProtectedInputStream</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/cougaar/mts/base/MessageProtectionServiceImpl.html#getInputStream(java.io.InputStream, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAttributes)">getInputStream</A></B>(java.io.InputStream&nbsp;is,
               <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;src,
               <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;dst,
               <A HREF="../../../../org/cougaar/core/mts/MessageAttributes.html" title="interface in org.cougaar.core.mts">MessageAttributes</A>&nbsp;attrs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a stream to verify incoming messages

 This method is called once for each incoming message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/cougaar/core/mts/ProtectedOutputStream.html" title="class in org.cougaar.core.mts">ProtectedOutputStream</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/cougaar/mts/base/MessageProtectionServiceImpl.html#getOutputStream(java.io.OutputStream, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAttributes)">getOutputStream</A></B>(java.io.OutputStream&nbsp;os,
                <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;src,
                <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;dst,
                <A HREF="../../../../org/cougaar/core/mts/MessageAttributes.html" title="interface in org.cougaar.core.mts">MessageAttributes</A>&nbsp;attrs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets a stream to encrypt and/or sign outgoing messages

 This method is called once for each outgoing message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/cougaar/mts/base/MessageProtectionServiceImpl.html#getService(org.cougaar.core.component.ServiceBroker, java.lang.Object, java.lang.Class)">getService</A></B>(<A HREF="../../../../org/cougaar/core/component/ServiceBroker.html" title="interface in org.cougaar.core.component">ServiceBroker</A>&nbsp;sb,
           java.lang.Object&nbsp;requestor,
           java.lang.Class&lt;?&gt;&nbsp;serviceClass)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/cougaar/mts/base/MessageProtectionServiceImpl.html#protectHeader(org.cougaar.core.mts.MessageAttributes, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress)">protectHeader</A></B>(<A HREF="../../../../org/cougaar/core/mts/MessageAttributes.html" title="interface in org.cougaar.core.mts">MessageAttributes</A>&nbsp;attributes,
              <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;source,
              <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;destination)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sign and/or encrypt the header of an outgoing message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/cougaar/mts/base/MessageProtectionServiceImpl.html#releaseService(org.cougaar.core.component.ServiceBroker, java.lang.Object, java.lang.Class, java.lang.Object)">releaseService</A></B>(<A HREF="../../../../org/cougaar/core/component/ServiceBroker.html" title="interface in org.cougaar.core.component">ServiceBroker</A>&nbsp;sb,
               java.lang.Object&nbsp;requestor,
               java.lang.Class&lt;?&gt;&nbsp;serviceClass,
               java.lang.Object&nbsp;service)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/cougaar/core/mts/MessageAttributes.html" title="interface in org.cougaar.core.mts">MessageAttributes</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/cougaar/mts/base/MessageProtectionServiceImpl.html#unprotectHeader(byte[], org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress)">unprotectHeader</A></B>(byte[]&nbsp;rawData,
                <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;source,
                <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;destination)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verify the signed and/or encrypted header of an incoming message.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MessageProtectionServiceImpl()"><!-- --></A><H3>
MessageProtectionServiceImpl</H3>
<PRE>
public <B>MessageProtectionServiceImpl</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getService(org.cougaar.core.component.ServiceBroker, java.lang.Object, java.lang.Class)"><!-- --></A><H3>
getService</H3>
<PRE>
public java.lang.Object <B>getService</B>(<A HREF="../../../../org/cougaar/core/component/ServiceBroker.html" title="interface in org.cougaar.core.component">ServiceBroker</A>&nbsp;sb,
                                   java.lang.Object&nbsp;requestor,
                                   java.lang.Class&lt;?&gt;&nbsp;serviceClass)</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/cougaar/core/component/ServiceProvider.html#getService(org.cougaar.core.component.ServiceBroker, java.lang.Object, java.lang.Class)">getService</A></CODE> in interface <CODE><A HREF="../../../../org/cougaar/core/component/ServiceProvider.html" title="interface in org.cougaar.core.component">ServiceProvider</A></CODE></DL>
</DD>
<DD><DL>
<DD><CODE>serviceClass</CODE> - a Class, usually an interface, which extends Service.</DL>
</DD>
</DL>
<HR>

<A NAME="releaseService(org.cougaar.core.component.ServiceBroker, java.lang.Object, java.lang.Class, java.lang.Object)"><!-- --></A><H3>
releaseService</H3>
<PRE>
public void <B>releaseService</B>(<A HREF="../../../../org/cougaar/core/component/ServiceBroker.html" title="interface in org.cougaar.core.component">ServiceBroker</A>&nbsp;sb,
                           java.lang.Object&nbsp;requestor,
                           java.lang.Class&lt;?&gt;&nbsp;serviceClass,
                           java.lang.Object&nbsp;service)</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/cougaar/core/component/ServiceProvider.html#releaseService(org.cougaar.core.component.ServiceBroker, java.lang.Object, java.lang.Class, java.lang.Object)">releaseService</A></CODE> in interface <CODE><A HREF="../../../../org/cougaar/core/component/ServiceProvider.html" title="interface in org.cougaar.core.component">ServiceProvider</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="protectHeader(org.cougaar.core.mts.MessageAttributes, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress)"><!-- --></A><H3>
protectHeader</H3>
<PRE>
public byte[] <B>protectHeader</B>(<A HREF="../../../../org/cougaar/core/mts/MessageAttributes.html" title="interface in org.cougaar.core.mts">MessageAttributes</A>&nbsp;attributes,
                            <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;source,
                            <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;destination)
                     throws java.security.GeneralSecurityException,
                            java.io.IOException</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html#protectHeader(org.cougaar.core.mts.MessageAttributes, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress)">MessageProtectionService</A></CODE></B></DD>
<DD>Sign and/or encrypt the header of an outgoing message.

 When a message is sent out:
 1) The aspect calls protectHeader().
 2) The data protection service encrypts/signs the header.
    It uses the information provided in the source and destination
    to decide how to encrypt and/or sign.
 3) The encrypted header is returned.
 4) The aspect calls getOuputStream.
    - The source and destination should be the same as what was found
      in the call to protectHeader().
 5) The service returns an output stream where the MTS will serialize
    the clear-text message.
 6) The service encrypts the message and write the encrypte/signed
    message to the output stream.
 7) The encrypted message is actually sent over the network.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html#protectHeader(org.cougaar.core.mts.MessageAttributes, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress)">protectHeader</A></CODE> in interface <CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html" title="interface in org.cougaar.core.service">MessageProtectionService</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>attributes</CODE> - data about the message for the header<DD><CODE>source</CODE> - The source of the message<DD><CODE>destination</CODE> - The destination of the message
<DT><B>Returns:</B><DD>the protected header (sign and/or encrypted)
<DT><B>Throws:</B>
<DD><CODE>java.security.GeneralSecurityException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="unprotectHeader(byte[], org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress)"><!-- --></A><H3>
unprotectHeader</H3>
<PRE>
public <A HREF="../../../../org/cougaar/core/mts/MessageAttributes.html" title="interface in org.cougaar.core.mts">MessageAttributes</A> <B>unprotectHeader</B>(byte[]&nbsp;rawData,
                                         <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;source,
                                         <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;destination)
                                  throws java.security.GeneralSecurityException,
                                         java.io.IOException</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html#unprotectHeader(byte[], org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress)">MessageProtectionService</A></CODE></B></DD>
<DD>Verify the signed and/or encrypted header of an incoming message.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html#unprotectHeader(byte[], org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress)">unprotectHeader</A></CODE> in interface <CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html" title="interface in org.cougaar.core.service">MessageProtectionService</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rawData</CODE> - The signed and/or encrypted header<DD><CODE>source</CODE> - The source of the message<DD><CODE>destination</CODE> - The destination of the message
<DT><B>Returns:</B><DD>the header in the clear
<DT><B>Throws:</B>
<DD><CODE>java.security.GeneralSecurityException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getOutputStream(java.io.OutputStream, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAttributes)"><!-- --></A><H3>
getOutputStream</H3>
<PRE>
public <A HREF="../../../../org/cougaar/core/mts/ProtectedOutputStream.html" title="class in org.cougaar.core.mts">ProtectedOutputStream</A> <B>getOutputStream</B>(java.io.OutputStream&nbsp;os,
                                             <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;src,
                                             <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;dst,
                                             <A HREF="../../../../org/cougaar/core/mts/MessageAttributes.html" title="interface in org.cougaar.core.mts">MessageAttributes</A>&nbsp;attrs)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html#getOutputStream(java.io.OutputStream, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAttributes)">MessageProtectionService</A></CODE></B></DD>
<DD>Gets a stream to encrypt and/or sign outgoing messages

 This method is called once for each outgoing message.
 The implementation of this service must construct a
 ProtectedOutputStream, which is a special kind of FilterOutputStream.
 The service client (MTS) serializes a Message to this 
 ProtectedOutputStream. The implementation of the service will in turn
 write data to the 'os' stream it was given at creation time.
 When the Message has been completely serialized and written 
 to the ProtectedOutputStream, the service client calls the finish()
 method of the ProtectedOutputStream.

 The first byte of the ProtectedOutputStream should be the first byte
 of the (serialized) message content.

 Since messages may be resent, the method may be called multiple times
 for the same message, but this is in a different context.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html#getOutputStream(java.io.OutputStream, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAttributes)">getOutputStream</A></CODE> in interface <CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html" title="interface in org.cougaar.core.service">MessageProtectionService</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>os</CODE> - The output stream containing encrypted and/or signed data<DD><CODE>src</CODE> - The source of the outgoing message<DD><CODE>dst</CODE> - The destination of the outgoing message<DD><CODE>attrs</CODE> - The attributes of the outgoing message
<DT><B>Returns:</B><DD>A filter output stream</DL>
</DD>
</DL>
<HR>

<A NAME="getInputStream(java.io.InputStream, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAttributes)"><!-- --></A><H3>
getInputStream</H3>
<PRE>
public <A HREF="../../../../org/cougaar/core/mts/ProtectedInputStream.html" title="class in org.cougaar.core.mts">ProtectedInputStream</A> <B>getInputStream</B>(java.io.InputStream&nbsp;is,
                                           <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;src,
                                           <A HREF="../../../../org/cougaar/core/mts/MessageAddress.html" title="class in org.cougaar.core.mts">MessageAddress</A>&nbsp;dst,
                                           <A HREF="../../../../org/cougaar/core/mts/MessageAttributes.html" title="interface in org.cougaar.core.mts">MessageAttributes</A>&nbsp;attrs)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html#getInputStream(java.io.InputStream, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAttributes)">MessageProtectionService</A></CODE></B></DD>
<DD>Gets a stream to verify incoming messages

 This method is called once for each incoming message.
 The implementation of this service must construct a
 ProtectedInputStream, which is a special kind of FilterInputStream.
 The service reads an encrypted message from the ProtectedInputStream.
 The service client (MTS) calls the finishInput() method when all the
 message has been read.
 The service client verifies the message. The service client reads
 the clear-text message from the 'is' input stream.

 The first byte of the ProtectedInputStream should be the first byte
 of the (serialized) message content.

 Since messages may be resent, the method may be called multiple times
 for the same message, but this is in a different context.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html#getInputStream(java.io.InputStream, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAddress, org.cougaar.core.mts.MessageAttributes)">getInputStream</A></CODE> in interface <CODE><A HREF="../../../../org/cougaar/core/service/MessageProtectionService.html" title="interface in org.cougaar.core.service">MessageProtectionService</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>is</CODE> - The input stream containing the verified clear-text message<DD><CODE>src</CODE> - The source of the incoming message<DD><CODE>dst</CODE> - The destination of the incoming message<DD><CODE>attrs</CODE> - The attributes of the incoming message
<DT><B>Returns:</B><DD>A filter intput stream</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/MessageProtectionServiceImpl.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
Copyright 2012 by Raytheon BBN Technologies</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/cougaar/mts/base/MessageProtectionAspect.html" title="class in org.cougaar.mts.base"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/cougaar/mts/base/MessageReader.html" title="interface in org.cougaar.mts.base"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/cougaar/mts/base/MessageProtectionServiceImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MessageProtectionServiceImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
